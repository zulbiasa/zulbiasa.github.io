<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday Iqa</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    background: radial-gradient(circle at center, #02010a 0%, #000 100%);
    font-family: "Poppins", sans-serif;
  }
  canvas {
    display: block;
    width: 100vw;
    height: 100vh;
  }
</style>
</head>
<body>
<canvas id="birthdayCanvas"></canvas>
<script>
    const canvas = document.getElementById('birthdayCanvas');
    const ctx = canvas.getContext('2d');
    
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);
    
    const messages = [
      "Happy Birthday", "Feliz CumpleaÃ±os", "Selamat Hari Lahir", "Joyeux Anniversaire",
      "Alles Gute", "Buon Compleanno", "ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†", "ìƒì¼ ì¶•í•˜í•´ìš”",
      "ç”Ÿæ—¥å¿«ä¹", "Ð¡ Ð”Ð½Ñ‘Ð¼ Ð Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ", "Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯", "Î§ÏÏŒÎ½Î¹Î± Î Î¿Î»Î»Î¬",
      "Feliz AniversÃ¡rio", "à¤¶à¥à¤­ à¤œà¤¨à¥à¤®à¤¦à¤¿à¤¨", "à¸ªà¸¸à¸‚à¸ªà¸±à¸™à¸•à¹Œà¸§à¸±à¸™à¹€à¸à¸´à¸”", "Tanti Auguri",
      "ðŸŽ‚", "ðŸŽˆ", "ðŸŽ‰", "ðŸ¥³", "ðŸ’–", "ðŸ’", "ðŸŒ¸", "ðŸŽ", "âœ¨", "ðŸ°", "â¤ï¸", "ðŸŒŸ", "ðŸŽ¶", "ðŸ’", "ðŸ©·"
    ];
    
    // ðŸŽˆ Add your image URLs here
    const totalImages = 29; // adjust to how many you have
    const imageSources = Array.from({ length: totalImages }, (_, i) => `/assets/images/iqa/${i + 1}.jpg`);
    
    const images = [];
    let loaded = 0;
    imageSources.forEach(src => {
      const img = new Image();
      img.src = src;
      img.onload = () => {
        loaded++;
        if (loaded === imageSources.length) startAnimation();
      };
      images.push(img);
    });
    
    class Star {
      constructor() { this.reset(); }
      reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.z = Math.random() * canvas.width;
      }
      update() {
        this.z -= 1.2;
        if (this.z <= 0) this.reset();
      }
      draw() {
        const sx = (this.x - canvas.width / 2) * (canvas.width / this.z) + canvas.width / 2;
        const sy = (this.y - canvas.height / 2) * (canvas.width / this.z) + canvas.height / 2;
        const size = (1 - this.z / canvas.width) * 2;
        ctx.beginPath();
        ctx.arc(sx, sy, size, 0, 2 * Math.PI);
        ctx.fillStyle = "white";
        ctx.fill();
      }
    }

    function createTextCanvas(text, fontSize = 24) {
  const off = document.createElement("canvas");
  const ctx2 = off.getContext("2d");
  ctx2.font = `${fontSize}px Poppins`;
  const w = ctx2.measureText(text).width + 10;
  const h = fontSize + 10;
  off.width = w;
  off.height = h;
  ctx2.font = `${fontSize}px Poppins`;
  ctx2.fillStyle = "white";
  ctx2.textBaseline = "top";
  ctx2.fillText(text, 5, 5);
  return off;
}

    
    function startAnimation() {
      const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    
      class Word {
        constructor(text) { this.text = text; this.reset(); }
        reset() {
          const range = isMobile ? 0.5 : 2; // smaller spawn range for mobile
          this.x = (Math.random() - 0.5) * canvas.width * range;
          this.y = (Math.random() - 0.5) * canvas.height * range;
          this.z = Math.random() * canvas.width;
        }
        update() {
          this.z -= isMobile ? 1.2 : 2; // slower on mobile
          if (this.z < 1) this.reset();
        }
        draw() {
  const sx = (this.x / this.z) * canvas.width + canvas.width / 2;
  const sy = (this.y / this.z) * canvas.height + canvas.height / 2;
  const scale = canvas.width / this.z;
  const size = Math.min(Math.max(scale * 10, 12), 40);
  if (!this.img) this.img = createTextCanvas(this.text, size);
  ctx.globalAlpha = 1 - this.z / canvas.width;
  ctx.drawImage(this.img, sx, sy);
  ctx.globalAlpha = 1;
}

      }
      
      
      class FlyingImage {
        constructor(img) { this.img = img; this.reset(); }
        reset() {
          const range = isMobile ? 0.6 : 2; // tighter cluster for mobile
          this.x = (Math.random() - 0.5) * canvas.width * range;
          this.y = (Math.random() - 0.5) * canvas.height * range;
          this.z = Math.random() * canvas.width;
          this.size = 30 + Math.random() * 40;
        }
        update() {
          this.z -= isMobile ? 1.5 : 2;
          if (this.z < 1) this.reset();
        }
        draw() {
          const sx = (this.x / this.z) * canvas.width + canvas.width / 2;
          const sy = (this.y / this.z) * canvas.height + canvas.height / 2;
          const scale = canvas.width / this.z;
          const size = this.size * scale;
          ctx.globalAlpha = 1 - this.z / canvas.width;
          ctx.drawImage(this.img, sx - size / 2, sy - size / 2, size, size);
          ctx.globalAlpha = 1;
        }
      }
    
      // ðŸ’« Adjust density for mobile/desktop
      let stars, words, flyingImages;
      if (isMobile) {
        stars = Array.from({ length: 40 }, () => new Star());
        words = Array.from({ length: 8 }, () => new Word(messages[Math.floor(Math.random() * messages.length)]));
        flyingImages = Array.from({ length: 10 }, () => new FlyingImage(images[Math.floor(Math.random() * images.length)]));
      } else {
        stars = Array.from({ length: 150 }, () => new Star());
        words = Array.from({ length: 60 }, () => new Word(messages[Math.floor(Math.random() * messages.length)]));
        flyingImages = Array.from({ length: 80 }, () => new FlyingImage(images[Math.floor(Math.random() * images.length)]));
      }
    
      function animate() {
        ctx.fillStyle = "rgba(0,0,0,0.3)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    
        stars.forEach(s => { s.update(); s.draw(); });
        words.forEach(w => { w.update(); w.draw(); });
        flyingImages.forEach(i => { i.update(); i.draw(); });
    
        requestAnimationFrame(animate);
      }
    
      animate();
    }
    </script>
    